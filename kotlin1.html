<!DOCTYPE html>
<html lang="ja">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99FMZG6LXG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-99FMZG6LXG');
</script>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="isMqF1Bk1TWMG3m-T6oNrZ4V_bOdk3fh-WQXyHTBgzk" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="css_file/aboutpython.css">
    <link rel="stylesheet" href="sanitize.css">
    <title>wataru_website</title>
</head>
<body>
    <div class="header">
        <div class="logo"><img src="logo.png"></div>
        <ul class="ddmenu">
            <li><a href="index.html"><span>home</span>ホーム</a></li>
            <li><a href="introduction.html"><span>introduction</span>自己紹介</a></li>
            <li><a><span>program</span>プログラム</a>
              <ul>
                  <li class="submenu">Python</a>
                  <ul class="submenu">
                      <li><a href="python.html">Python0</a></li>
                      <li><a href="aboutpython.html">Python1</a></li>
                      <li><a href="aboutpython2.html">Python2</a></li>
                      <li><a href="aboutpython3.html">Python3</a></li>
                  </ul>
                  </li>
                  <li class="submenu">Java</a>
                    <ul class="submenu">
                        <li><a href="java1.html">Java1</a></li>
                        <li><a href="java2.html">Java2</a></li>
                        <li><a href="java3.html">Java3</a></li>
                        <li><a href="java4.html">Java4</a></li>
                        <li><a href="java5.html">Java5</a></li>
                        <li><a href="java6.html">Java6</a></li>
                        <li><a href="java7.html">Java7</a></li>
                        <li><a href="java8.html">Java8</a></li>
                    </ul>
                    </li>
                    <li class="submenu">Kotlin</a>
                        <ul class="submenu">
                            <li><a href="kotlin1.html">kotlin1</a></li>
                            
                        </ul>
                    </li>
              </ul>
            </li>
            <li><a><span>theory</span>理論系</a>
              <ul>
                  <li class="submenu">重力波検出器
                      <ul class="submenu">
                          <li><a href="gravitywave.html">重力波</a></li>
                          <li><a href="gravitywavedetector_principle.html">原理</a></li>
                          <li><a href="noise.html">雑音</a></li>
                      </ul>

                  </li>
              </ul>
            </li>
            <li><a><span>experiment</span>実験系</a>
             <ul>
                 <li class="submenu"><a href="graduation_experiment.html">卒業研究</a></li>
             </ul>
            </li>
        </ul>
    </div>
    
    <div class="zentai">
    <h2 class="heading1" data-number="01">Kotlinについて</h2>
    <p>
        　KotlinはAndroidアプリ開発に非常に適した言語です。これを学ぶモチベーションは実際にAndroinアプリ開発を行いたいということです。
        もちろんJavaでも開発はできますが、なぜKotlinをあえて用いるのでしょうか。それはKotlinが「実用主義、簡潔、安全」を目指した言語だからです。
        Javaよりもシンプルにコードを書くことができます。その上に、Javaとの相互互換性があるため、JavaのプログラムをKotlinで簡単に利用することもできるのです。
        Javaについての説明は他のページで行っているので、是非そちらを見てください。ここではKotlinの主な特徴を見ていきたいと思います。
        KotlinはJavaと同じくJVMで動作します。そのため、<b>JavaとKotlinのソースファイルを自由に行き来することができます。</b>また、KotlinはJavaと同じく静的型付けで、オブジェクト指向のプログラミング言語となります。
        Kotlinでは先進的な関数プログラミングの機能も取り入れらています。安全性についてもJavaよりも担保されています。例えば、静的型付け言語として型の安全性が保証されています。他にも
        NullPointerExceptionをなくすためNullチェックが厳格になっています。このように、JavaとKotlinは兄弟関係のようなプログラミング言語ですが、KotlinはJavaをより簡潔にまとめたものであるという認識を
        持てたと思います。
    </p>
    <h2 class="heading2" data-number="02">開発環境</h2>
    <p>
        　Kotlinの開発環境は今回<b>REPL</b>というものを使います。これは、<b>Android Studio 3.0以降</b>がインストールされていれば、使うことができます。
        まずは、Android Studioをインストールすることをお勧めします。
    </p>
    <h2 class="heading3" data-number="03">Kotlinの基本</h2>
    <p>
        　開発環境が整ったらおなじみのHello World!を実行してみます。<b>Javaでは文末にセミコロンが必要でしたが、Kotlinでは省略できます。</b>
        <div class="code">
            <code>
                println("Hello World!")
            </code>
        </div>
        <div class="code">
            <code>
                実行結果<br>
                Hello World!
            </code>
        </div>
        　それではKotlinの基本について説明していきます。まずは<b>変数と型</b>についてです。
        Kotlinでは変数の宣言に<b>var</b>を使い、定数の宣言に<b>val</b>を使います。
        <div class="code">
            <code>
                var 変数名:型=値<br>
                val 定数名:型=値
            </code>
        </div>
        　ただし、Kotlinには<b>型推論</b>の機能があるので、型の指定は省略可能です。
        ここで注意なのが、変数や定数への2回目の代入はエラーになるということです。また、Kotlinの基本型はJavaとほとんど同じです。
        ただKotlinのString型には、いくつかの特徴的な言語仕様があります。「"""」で囲むことで、複数行の文字列を扱うことができます。
        以下にそのコードを示します。
        <div class="code">
            <code>
                val multiline = """Oh<br>
                    Hava a <br>
                        nice Kotlin!"""<br>
                println(multiline)
            </code>
        </div>
        　また、先頭のスペースが不要なら<b>trimIndent()メソッド</b>が便利です。これを用いることで、文字列の前の不要なスペースをなくすことができます。
        文字列に限らず比較には2種類あります。「==」は内容が同じであるかチェックします。「===」は2つのオブジェクトが同じであるかチェックします。
        変数名にドル記号$をつけることで、文字列中にテンプレート式を埋め込むことができます。
        全く関連のない型への変換には、<b>to型名</b>メソッドが用意されています。これについては以下にコードを示します。
        <div class="code">
            <code>
                val str = "64"<br>
                val intVal = str.toInt()<br>
                println(intVal)
            </code>
        </div>
        <div class="code">
            <code>
                実行結果<br>
                64
            </code>
        </div>
        　変数strはString型で定義されています。それをint型にtoInt()を用いて、変換しています。
        しかしこういった場合はエラーが生じます。
        <div class="code">
            <code>
                val str = "Kotlin"<br>
                val intVal = str.toInt()<br>
                println(intVal)
            </code>
        </div>
        　これは文字列を数値に変換したときに"Kotlin"は数値ではないので、Nullになるはずなのですが、toInt()のままでは
        Nullにはなりません。そこで、<b>to型名OrNull()</b>を用います。これを用いることで、プログラムが正常に動作し、Nullになります。
        他にも数値から文字列に変換する<b>toString()</b>メソッドや数値同士の変換するメソッドがあります。これらの基本形は<b>to型名</b>ということだけ強調しておきます。
        先ほどNullという言葉が出てきました。これについて深く考えていきます。Nullとはプログラミング言語において何もデータが入っていないことを示します。Kotlinでは、宣言時に
        型が指定されたり、型推論により型が確定した変数、定数には、Nullを代入することができません。これを<b>Null非許容型</b>といいます。 
        そこで、Nullの状態もありうる場合、型名の後ろに<b>?</b>をつけます。これを<b>Null許容型</b>といいます。
        <div class="code">
            <code>
                var text:String? = null<br>
                println(text) 
            </code>
        </div>    
        <div class="code">
            <code>
                実行結果<br>
                null
            </code>
        </div>  
        　ただし、null許容型の変数の場合、様々な制限があります。
        具体的に言うと、例えばString?型の変数では、String型が持つメソッドやプロパティ(後述)をそのまま使うことはできません。
        このような話はまた別のページでしようと思っていますので、今はそういうものかとくらいに考えておいてください。
        続いて話は変わって<b>配列</b>について説明していきます。配列は<b>Arrayクラス</b>を使い、<b>arrayOf関数</b>で配列の生成と初期化を行うことができます。
        <div class="code">
            <code>
                val arrayofInt:Array<int> = arrayOf(1,2,3,4,5,6)<br>
                for(i in arrayofInt) print("$i,")
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                1,2,3,4,5,6
            </code>
        </div>
        　Arrayの後に続けて<>型名を渡しています。これは配列の中に入っているオブジェクトの型を指定しています。この場合はInt型配列であることを示しています。
        Arrayクラスは総称型で宣言されており、Arrayの後に続けて<>を渡している値を型引数といいます。また、配列に対しても型推論が機能しますので、型を省略することができます。
        　次にKotlinの制御構造について説明していきます。
        <h4>if文の書き方</h4>
        <div class="code">
            <code>
               if(条件式){<br>
                条件式がtrueの時に行う処理<br>
               }else{<br>
                <br>
               }
            </code>
        </div> 
        　Kotlinのif文は<b>値を返すことができます。</b>以下のような例です。
        <div class="code">
            <code>
                val a=10<br>
                val b=20<br>
                val max = if(a>b){<br>
                    print("a is greater than b")<br>
                    a<br>
                }else{<br>
                    print("b is greater than a")<br>
                    b<br>
                }<br>
                print(max)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                a is greater than b <br>
                20
            </code>
        </div> 
        　値を返す場合には、このように該当するブロックの最後に値を記述しておきます。これは変数でもリテラルでも構いません。
        Kotlinにはswitch文は存在せず、次のwhen式を使います。
        <h4>when文の書き方</h4>
        <div class="code">
            <code>
                when(式){<br>
                    値1 ->式の結果と値1が一致した場合の処理<br>
                    値2 ->式の結果と値2が一致した場合の処理<br>
                    else ->式の結果がどの値とも一致しない場合の処理<br>
                }
            </code>
        </div> 
        　このようにwhen式に渡した式の結果により、処理を分岐します。最後のelseには、上記のいずれでもない場合の処理を記述しますが、必須ではありません。
        また、値を指定する場合、<b>in演算子</b>に続けて範囲式を記述することで、値の範囲を指定できます。以下にその例を示します。
        <h4>範囲式を使う</h4>
        <div class="code">
            <code>
                val a=100<br>
                when (a){<br>
                    in 1..10 ->println("a is in the range")<br>
                    !in 10..20 ->println("a is outside the range")<br>
                    else ->println("otherwise")<br>
                }
            </code>
        </div> 
        　when式もif文同様に、値を返すことができます。when式による型チェックも行うことができます。
        <h4>型による条件分岐</h4>
        <div class="code">
            <code>
                val a:Any = "Kotlin"<br>
                when(a){<br>
                    is Int->print(a*a)<br>
                    is String->print(a.toUpperCase())<br>
                }
            </code>
        </div> 
        　<b>is演算子</b>というもので型のチェックをしています。<b>Any</b>はすべてのクラスの親にあたります。また、toUpperCase()は文字列を
        大文字に変換するメソッドです。上記ではAny型で宣言したaに文字列を代入し、when式内で型チェックをしています。
        if式の代わりにwhen式を使うことも可能です。以下のような例を見てみましょう。
        <h4>if式のような使い方</h4>
        <div class="code">
            <code>
                val a:Int? = null<br>
                val text = "Kotlin"<br>
                when{<br>
                    a != null && text.startsWith("Kot")->println("starts with a prefix 'Kot'")<br>
                    a == null && text.endsWith("lin")->println("ends with a suffix 'lin'")<br>
                    else->println("otherwise")<br>
                }
            </code>
        </div> 
        　この例のようにwhen式引数を渡さずに、条件分岐をBoolean(trueかfalseをかえすもの)をかえす式とすることで、if文のような書き方をすることができます。
        続いて<b>for文</b>について説明していきます。まず具体例を見てみましょう。
        <h4>for文</h4>
        <div class="code">
            <code>
                val array = arrayOf(1,2,3,4,10,100)<br>
                for(a in array) print("$a,")
            </code>
        </div>
        <div class="code">
            <code>
                実行結果<br>
                1,2,3,4,10,100
            </code>
        </div>  
        　このようにしてfor文を使っていきます。ここでは配列の中身をfor文を用いて取り出しましたが、配列に割り振られた番号(添字)を使って
        配列を順番に処理をしたい場合は、<b>indicesプロパティ</b>というものを使います。以下にその例を示します。
        <h4>indicesを使ったfor文</h4>
        <div class="code">
            <code>
                val a = arrayOf(1,2,3,4,10,100)<br>
                for (i in a.indices){<br>
                    print("a[$i]=${a[i]}")<br>
                }
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
               a[0]=1 a[1]=2 a[2]=3 a[3]=4 a[4]=10 a[5]=100
            </code>
        </div> 
        　for文は先ほど出てきた範囲式を用いて、一定回数繰り返すことができます。色々な繰り返し方があるので、その例をいくつか以下に示します。
        <h4>4回繰り返す</h4>
        <div class="code">
            <code>
               for (i in 1..4){<br>
                print(i)<br>
               } 
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
               1234
            </code>
        </div> 
        <h4>iの値を減算する</h4>
        <div class="code">
            <code>
                for (i in 4 downTo 1){<br>
                    print(i)<br>
                }
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                4321
            </code>
        </div> 
        　範囲式でカウントダウンするときは、<b>downTo</b>を用いればよいです。
        <h4>stepを使う</h4>
        <div class="code">
            <code>
                for (i in 0..9 step 2){<br>
                    print(i)<br>
                }
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                02468
            </code>
        </div> 
        　範囲式で刻み値を指定して1つ飛ばしや2つ飛ばしをするには<b>step</b>を使います。
        　for分以外にも繰り返しを行えるものはあります。<b>while文</b>と<b>do-while文</b>です。以下にその2つの例を示します。
        <h4>while文</h4>
        <div class="code">
            <code>
                var x=0<br>
                while(x<10){<br>
                    print(x++)<br>
                }
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                0123456789
            </code>
        </div> 
        <h4>do-while文</h4>
        <div class="code">
            <code>
               var i=7<br>
               do{<br>
                print("i=${i--}")<br>
               }while(i>4)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
               i=7 i=6 i=5 
            </code>
        </div> 
        　以上が制御構文の説明でした。
    </p>
    <h2 class="heading4" data-number="04">Kotlinのコレクション</h2>
    <p>
        話は変わって<b>コレクション</b>というものについて説明します。複数の値をまとめて扱う機能をコレクションといいます。
        Kotlinのコレクションでは、読み取り専用のコレクションと変更可能なコレクションの2つが用意されています。変更する必要がない場合は読み取り専用
        のコレクションを使うことでバグを排除しコードを読みやすく保つことができます。
        まず、<b>リスト</b>について説明します。リストは配列と同じように要素の順番を保持しますが、要素の重複が可能です。
        読み取り専用リストの作成と初期化には、<b>listOf関数</b>を使い、変更可能なリストの作成と初期化には<b>mutabaleListOf関数</b>を使います。
        <h4>読み取り専用リストを作成</h4>
        <div class="code">
            <code>
                val items:List<Int>=listOf(1,2,3)<br>
                    println(items)<br>
                    println(items.get[0])<br>
                    println(items[0])<br>
                    println(items.size)
            </code>
            <div class="code">
                <code>
                    実行結果<br>
                    123<br>
                    1<br>
                    1<br>
                    3
                </code>
            </div> 
        </div> 
        　getメソッドや配列のように[]を使って添字を指定することで、リストから値を取り出すことができます。また、sizeメソッドで
        リストの長さを知ることができます。
        <h4>変更可能なリストの作成</h4>
        <div class="code">
            <code>
                val numbers:MutableList<Int>=mutableListOf(2,4,6)<br>
                    println(numbers)<br>
                    numbers.add(5)<br>
                    println(numbers)<br>
                    numbers.remove(4)<br>
                    println(numbers)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                246<br>
                2465<br>
                265
            </code>
        </div> 
        　要素の追加には<b>addメソッド</b>、削除には<b>removeメソッド</b>を使用します。
        　次に<b>セット</b>について説明します。セットは要素の順番を持たず、重複もできません。リスト同様に、読み取り専用と変更可能の2種類が用意されています。
        <h4>読み取り専用セットの作成</h4>
        <div class="code">
            <code>
                var Strings:set<String>=setOf("A","B","C")<br>
                    println(set)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                [A,B,C]
                
            </code>
        </div> 
        <h4>変更可能なセットの作成</h4>
        <div class="code">
            <code>
                var strings:Mutableset=mutableSetOf("A","B","C")<br>
                    println(strings)<br>
                    strings.add("y")<br>
                    println(strings)<br>
                    strings.remove("A")<br>
                    println(strings)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                [A,B,C,y]<br>
                [B,C]
            </code>
        </div> 
        　要素の追加、削除はリスト同様addメソッドとremoveメソッドで行います。前述の通り、セットでは値の重複ができませんが、すでにある
        要素を追加してもエラーになるわけではありません。addメソッドの戻り値としてfalseが返るだけです。
        　最後に<b>マップ</b>について説明します。マップはキーと値が対になった要素を持ちます。キーの重複はできないことに注意してください。
        今まで同様に、読み取り専用マップと変更可能なマップが存在します。
        <h4>読み取り専用マップの作成</h4>
        <div class="code">
            <code>
                val fluits:Map=mapOf("apple" to 1,"orange" to 2,"banana" to 3)<br>
                    print(fluits)<br>
                    print(fluits.get["apple"])<br>
                    print(fluits["orange"])
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                (apple=1, orange=2, banana=3)<br>
                12
            </code>
        </div> 
        　値の取り出しはgetメソッドの引数にキーを指定するか、配列のように[]内にキーを指定することで可能になります。
        <h4>変更可能なマップの作成</h4>
        <div class="code">
            <code>
                val fluits:MutableMap=mutableMapOf("apple" to 1,"orange" to 2,"banana" to 3)<br>
                    print(fluits)<br>
                    fluits.put("melon",4)<br>
                    print(fluits)<br>
                    fluits.remove("banana")<br>
                    print(fluits)
            </code>
        </div> 
        <div class="code">
            <code>
                実行結果<br>
                (apple=1, orange=2, banana=3)<br>
                (apple=1, orange=2, banana=3, melon=4)<br>
                (apple=1, orange=2, melon=4)<br>
            </code>
        </div> 
        　要素を追加するときは<b>putメソッド</b>を使い、削除するときは<b>removeメソッド</b>を使います。以上Kotlinのコレクションには<b>list,set,map</b>の3つが存在することが
        わかりました。
    </p>
    <h2 class="heading5" data-number="05">関数とラムダ式</h2>
    <p>
        　ここでは、Kotlinにおける関数の基本と、Kotlinが持つ関数型プログラミングの機能について説明していきます。
        まず関数についてです。以下の例のように関数を定義します。
        <h4>関数の定義と実行</h4>
        <div class="code">
            <code>
                fun times(a:Int,b:Int):Int{<br>
                    return a*b<br>
                }<br>
                times(2,5)<br>
                実行結果<br>
               res64: kotlin.Int = 10  
                
            </code>
        </div>
        　これはaとbの積を計算する関数です。この関数は<b>戻り値</b>が存在します。
        戻り値とは、関数を実行したときに返ってくる値です。
        それでは、戻り値がない場合の関数を見てみましょう。
        <h4>戻り値のない関数</h4>
        <div>
            <code>
                fun printTimes(a:Int,b:Int):Unit{<br>
                    print("$a multiplied by $b is ${a*b}")<br>
                }<br>
                printTimes(2,3)<br>
                実行結果<br>
               2 multiplied by 3 is 6
            </code>
        </div>
        　Kotlinでは戻り値のない関数は<b>Unit</b>を使います。これはJavaでいうとvoidに該当します。
        また、関数の引数にはデフォルト値を代入することができます。これにより、実行時に引数の指定を省略することができます。
        このようなデフォルト値を関数を呼び出す際に、変更することも可能です。その時は、引数名をしっかりと明示することをお勧めします。
        次に<b>ラムダ式</b>というものです。これから説明するのは、関数に値ではなく、処理を渡せるようにすることで動的に処理を変更する手法のことです。
        この時、関数に渡す処理のことをラムダ式といいます。
        それでは、具体的にコードを見ていきます。
        <h4>ラムダ式の代入</h4>
        <div>
            <code>
                var minus={x:Int,y:Int->x-y}<br>
                minus(3,2)<br>
                実行結果<br>
                res66: kotlin.Int = 1

            </code>
        </div>
        　この時の変数を<b>関数型</b>といいます。このように、引数名を指定した後に、関数に処理してもらいたいことを書きます。
        ラムダ式の引数が1つしかない場合は、引数の指定と->の両方が省略可能です。省略した引数は暗黙の引数<b>it</b>として、
        使うことができます。
        <h4>itを使う</h4>
        <div>
            <code>
                var double:(Int)->Int={it*2}<br>
                double(4)<br>
                実行結果<br>
                res67: kotlin.Int = 8

            </code>
        </div>
        　以下のように関数の引数に指定することもできます。
        <h4>関数型の引数を持つ関数の定義と実行</h4>
        <div>
            <code>
                fun doLambda(x:Int,l:(Int)->Int)=l(x)<br>
                doLambda(5,{it*2})<br>
                実行結果<br>
                res68: kotlin.Int = 10

            </code>
        </div>
        　関数型の引数のメリットは、実行時に処理の内容を決定できるということです。上記では
        最初の引数を2番目の引数に従って処理するということだけ決めておいて、どういう処理を行うかは実行時に決定します。
    </p>
    <h2 class="heading6" data-number="06">クラスとインタフェース</h2>
    <p>
        　KotlinはJavaと強くかかわりがあるので、オブジェクト指向言語でもあります。そのため、クラスやインタフェースを使うことができます。
        まずは、クラスの定義方法について説明していきます。Kotlinでは、「private」「protected」「internal」「public」の4つのアクセス修飾子が使われます。
        Kotlinのクラスは、デフォルトでfinal(定数、継承禁止)扱いなので、そのままでは他のクラスを継承することができません。
        継承させたい場合は、先頭に<b>open</b>を記述します。また、インナークラス(クラスの中のクラス)を定義し、内側のクラスから外側のクラスにアクセスする場合には<b>inner</b>を先頭に記述する必要があります。
        クラスのインスタンスを生成する場合は、コンストラクタを実行します。(Javaではnew演算子が必要ですが、Kotlinでは不要)
        
        <div class="code">
            <code>
                d = {'key':value}<br>
            </code>
        </div>
    
    辞書はkeyとvalueで構成されます。d['key']を指定すればvalueを得ることができます。しかし
    逆はできません。具体的にはd[value]を指定してkeyを得ることはできないということです。
    </p>
    </div>
    <footer>
        <p>Copyright (C) All Rights Reserved.</p>
    </footer>
</body>